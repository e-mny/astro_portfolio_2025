[["Map",1,2,9,10],"meta::meta",["Map",3,4,5,6,7,8],"astro-version","5.2.5","content-config-digest","049e00ed6367e27c","astro-config-digest","{\"root\":{},\"srcDir\":{},\"publicDir\":{},\"outDir\":{},\"cacheDir\":{},\"site\":\"https://cojocarudavid.me\",\"compressHTML\":true,\"base\":\"/\",\"trailingSlash\":\"ignore\",\"output\":\"static\",\"scopedStyleStrategy\":\"attribute\",\"build\":{\"format\":\"directory\",\"client\":{},\"server\":{},\"assets\":\"_astro\",\"serverEntry\":\"entry.mjs\",\"redirects\":true,\"inlineStylesheets\":\"auto\",\"concurrency\":1},\"server\":{\"open\":false,\"host\":false,\"port\":4321,\"streaming\":true},\"redirects\":{},\"image\":{\"endpoint\":{\"route\":\"/_image\"},\"service\":{\"entrypoint\":\"astro/assets/services/sharp\",\"config\":{}},\"domains\":[],\"remotePatterns\":[]},\"devToolbar\":{\"enabled\":true},\"markdown\":{\"syntaxHighlight\":\"shiki\",\"shikiConfig\":{\"langs\":[],\"langAlias\":{},\"theme\":\"github-dark\",\"themes\":{},\"wrap\":false,\"transformers\":[]},\"remarkPlugins\":[null,[null,{\"heading\":\"contents\"}]],\"rehypePlugins\":[],\"remarkRehype\":{},\"gfm\":true,\"smartypants\":true},\"security\":{\"checkOrigin\":true},\"env\":{\"schema\":{},\"validateSecrets\":false},\"experimental\":{\"clientPrerender\":false,\"contentIntellisense\":false,\"responsiveImages\":false,\"serializeConfig\":false},\"legacy\":{\"collections\":false}}","blog",["Map",11,12,73,74,116,117,171,172,223,224],"what-is-tailwind",{"id":11,"data":13,"body":24,"filePath":25,"assetImports":26,"digest":28,"rendered":29,"legacyId":72},{"title":14,"hero":15,"heroAlt":14,"description":16,"pubDate":17,"updatedDate":18,"tags":19},"What is Tailwind CSS?","__ASTRO_IMAGE_~/assets/heros/tailwindcss.png","Tailwind CSS is a highly customizable, utility-first CSS framework that streamlines the process of designing and building user interfaces.",["Date","2023-10-16T00:00:00.000Z"],["Date","2023-10-16T00:00:00.000Z"],[20,21,22,23],"tailwind","css","framework","utility-first","Have you ever wondered what makes a website look so stunning? The answer lies in the CSS framework that powers it. CSS frameworks are a vital component of modern web development, offering a collection of pre-written CSS code that you can leverage to style your website. In this article, we'll explore one of the most popular CSS frameworks, Tailwind CSS, and discover how it can transform your web development journey.\n\n# What is Tailwind CSS?\n\nTailwind CSS is a highly customizable, utility-first CSS framework that streamlines the process of designing and building user interfaces. It offers a curated collection of utility classes that you can seamlessly apply directly to your HTML elements, eliminating the need to write extensive custom CSS code. Tailwind CSS is designed with flexibility in mind, allowing you to tailor the framework to match the precise design requirements of your project.\n\n## The Utility-First Approach\n\nTailwind CSS is built on the utility-first approach, which is a paradigm shift from the traditional CSS frameworks. In the utility-first approach, you employ predefined utility classes to adorn your HTML elements. For instance, to add padding to an element, you can simply append the `p-4` class, which instantly bestows a 1rem padding on all sides of the element.\n\n### Key Features of Tailwind CSS\n\n#### 1. The Utility-First Approach\n\nAt the core of Tailwind CSS is the utility-first approach. Gone are the days of laboriously crafting custom CSS rules. Instead, you employ predefined utility classes to adorn your HTML elements. For instance, to add padding to an element, you can simply append the `p-4` class, which instantly bestows a 1rem padding on all sides of the element.\n\n#### 2. The Beauty of Customization\n\nTailwind CSS is designed with flexibility in mind. It enables you to tailor the framework to match the precise design requirements of your project. This level of customization empowers you to create entirely unique designs without the need for an avalanche of custom CSS.\n\n#### 3. Responsive Design Prowess\n\nIn a world where web designs must adapt to a multitude of screen sizes, Tailwind CSS shines. It offers an array of responsive design classes, simplifying the process of crafting layouts that seamlessly adapt to different devices. By applying responsive classes to elements, you gain control over their appearance on a wide range of screens.\n\n#### 4. Rapid Prototyping Magic\n\nTailwind CSS is tailor-made for rapid prototyping and development. Its utility classes expedite the iteration process, a boon especially during the early stages of a project. This means more creative freedom and faster progress.\n\n#### 5. An Extensive Ecosystem\n\nThe Tailwind CSS ecosystem is a treasure trove of plugins and extensions that enhance the framework's capabilities. These plugins can be effortlessly integrated, adding a myriad of features and functions to your toolkit.\n\n### Getting Acquainted with Tailwind CSS\n\nEmbarking on a journey with Tailwind CSS is straightforward and immensely rewarding. Here are the steps to get you started:\n\n1. **Installation**: Begin by installing Tailwind CSS using npm or yarn, and integrate it seamlessly into your project.\n\n2. **Configuration**: Craft a configuration file that allows you to fine-tune the framework according to your project's unique design needs. Specify colors, fonts, breakpoints, and more.\n\n3. **HTML Markup**: Start harnessing the power of Tailwind CSS utility classes in your HTML markup. Classes like `text-blue-500`, `bg-gray-200`, and `lg:w-1/2` are your creative companions for styling your elements.\n\n4. **Streamlined Build Process**: Set up a build process that generates optimized CSS for your project. Tailwind CSS provides tools for purging and minimizing the final CSS file size, ensuring efficiency.\n\n5. **Enjoy the Benefits**: As you grow more familiar with Tailwind CSS, you'll discover its unparalleled efficiency and flexibility, transforming your web development journey into a seamless and creative experience.\n\n### In Closing\n\nTailwind CSS is a powerful CSS framework that offers a plethora of benefits. It's a perfect choice for developers who want to create unique designs without the need for extensive custom CSS. Tailwind CSS is a highly customizable, utility-first CSS framework that streamlines the process of designing and building user interfaces. It offers a curated collection of utility classes that you can seamlessly apply directly to your HTML elements, eliminating the need to write extensive custom CSS code. Tailwind CSS is designed with flexibility in mind, allowing you to tailor the framework to match the precise design requirements of your project.","src/content/blog/what-is-tailwind.md",[27],"~/assets/heros/tailwindcss.png","95d2719638ec0164",{"html":30,"metadata":31},"\u003Cp>Have you ever wondered what makes a website look so stunning? The answer lies in the CSS framework that powers it. CSS frameworks are a vital component of modern web development, offering a collection of pre-written CSS code that you can leverage to style your website. In this article, we’ll explore one of the most popular CSS frameworks, Tailwind CSS, and discover how it can transform your web development journey.\u003C/p>\n\u003Ch1 id=\"what-is-tailwind-css\">What is Tailwind CSS?\u003C/h1>\n\u003Cp>Tailwind CSS is a highly customizable, utility-first CSS framework that streamlines the process of designing and building user interfaces. It offers a curated collection of utility classes that you can seamlessly apply directly to your HTML elements, eliminating the need to write extensive custom CSS code. Tailwind CSS is designed with flexibility in mind, allowing you to tailor the framework to match the precise design requirements of your project.\u003C/p>\n\u003Ch2 id=\"the-utility-first-approach\">The Utility-First Approach\u003C/h2>\n\u003Cp>Tailwind CSS is built on the utility-first approach, which is a paradigm shift from the traditional CSS frameworks. In the utility-first approach, you employ predefined utility classes to adorn your HTML elements. For instance, to add padding to an element, you can simply append the \u003Ccode>p-4\u003C/code> class, which instantly bestows a 1rem padding on all sides of the element.\u003C/p>\n\u003Ch3 id=\"key-features-of-tailwind-css\">Key Features of Tailwind CSS\u003C/h3>\n\u003Ch4 id=\"1-the-utility-first-approach\">1. The Utility-First Approach\u003C/h4>\n\u003Cp>At the core of Tailwind CSS is the utility-first approach. Gone are the days of laboriously crafting custom CSS rules. Instead, you employ predefined utility classes to adorn your HTML elements. For instance, to add padding to an element, you can simply append the \u003Ccode>p-4\u003C/code> class, which instantly bestows a 1rem padding on all sides of the element.\u003C/p>\n\u003Ch4 id=\"2-the-beauty-of-customization\">2. The Beauty of Customization\u003C/h4>\n\u003Cp>Tailwind CSS is designed with flexibility in mind. It enables you to tailor the framework to match the precise design requirements of your project. This level of customization empowers you to create entirely unique designs without the need for an avalanche of custom CSS.\u003C/p>\n\u003Ch4 id=\"3-responsive-design-prowess\">3. Responsive Design Prowess\u003C/h4>\n\u003Cp>In a world where web designs must adapt to a multitude of screen sizes, Tailwind CSS shines. It offers an array of responsive design classes, simplifying the process of crafting layouts that seamlessly adapt to different devices. By applying responsive classes to elements, you gain control over their appearance on a wide range of screens.\u003C/p>\n\u003Ch4 id=\"4-rapid-prototyping-magic\">4. Rapid Prototyping Magic\u003C/h4>\n\u003Cp>Tailwind CSS is tailor-made for rapid prototyping and development. Its utility classes expedite the iteration process, a boon especially during the early stages of a project. This means more creative freedom and faster progress.\u003C/p>\n\u003Ch4 id=\"5-an-extensive-ecosystem\">5. An Extensive Ecosystem\u003C/h4>\n\u003Cp>The Tailwind CSS ecosystem is a treasure trove of plugins and extensions that enhance the framework’s capabilities. These plugins can be effortlessly integrated, adding a myriad of features and functions to your toolkit.\u003C/p>\n\u003Ch3 id=\"getting-acquainted-with-tailwind-css\">Getting Acquainted with Tailwind CSS\u003C/h3>\n\u003Cp>Embarking on a journey with Tailwind CSS is straightforward and immensely rewarding. Here are the steps to get you started:\u003C/p>\n\u003Col>\n\u003Cli>\n\u003Cp>\u003Cstrong>Installation\u003C/strong>: Begin by installing Tailwind CSS using npm or yarn, and integrate it seamlessly into your project.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>Configuration\u003C/strong>: Craft a configuration file that allows you to fine-tune the framework according to your project’s unique design needs. Specify colors, fonts, breakpoints, and more.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>HTML Markup\u003C/strong>: Start harnessing the power of Tailwind CSS utility classes in your HTML markup. Classes like \u003Ccode>text-blue-500\u003C/code>, \u003Ccode>bg-gray-200\u003C/code>, and \u003Ccode>lg:w-1/2\u003C/code> are your creative companions for styling your elements.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>Streamlined Build Process\u003C/strong>: Set up a build process that generates optimized CSS for your project. Tailwind CSS provides tools for purging and minimizing the final CSS file size, ensuring efficiency.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>Enjoy the Benefits\u003C/strong>: As you grow more familiar with Tailwind CSS, you’ll discover its unparalleled efficiency and flexibility, transforming your web development journey into a seamless and creative experience.\u003C/p>\n\u003C/li>\n\u003C/ol>\n\u003Ch3 id=\"in-closing\">In Closing\u003C/h3>\n\u003Cp>Tailwind CSS is a powerful CSS framework that offers a plethora of benefits. It’s a perfect choice for developers who want to create unique designs without the need for extensive custom CSS. Tailwind CSS is a highly customizable, utility-first CSS framework that streamlines the process of designing and building user interfaces. It offers a curated collection of utility classes that you can seamlessly apply directly to your HTML elements, eliminating the need to write extensive custom CSS code. Tailwind CSS is designed with flexibility in mind, allowing you to tailor the framework to match the precise design requirements of your project.\u003C/p>",{"headings":32,"imagePaths":66,"frontmatter":67},[33,36,40,44,48,51,54,57,60,63],{"depth":34,"slug":35,"text":14},1,"what-is-tailwind-css",{"depth":37,"slug":38,"text":39},2,"the-utility-first-approach","The Utility-First Approach",{"depth":41,"slug":42,"text":43},3,"key-features-of-tailwind-css","Key Features of Tailwind CSS",{"depth":45,"slug":46,"text":47},4,"1-the-utility-first-approach","1. The Utility-First Approach",{"depth":45,"slug":49,"text":50},"2-the-beauty-of-customization","2. The Beauty of Customization",{"depth":45,"slug":52,"text":53},"3-responsive-design-prowess","3. Responsive Design Prowess",{"depth":45,"slug":55,"text":56},"4-rapid-prototyping-magic","4. Rapid Prototyping Magic",{"depth":45,"slug":58,"text":59},"5-an-extensive-ecosystem","5. An Extensive Ecosystem",{"depth":41,"slug":61,"text":62},"getting-acquainted-with-tailwind-css","Getting Acquainted with Tailwind CSS",{"depth":41,"slug":64,"text":65},"in-closing","In Closing",[],{"title":14,"description":16,"pubDate":68,"updatedDate":69,"hero":27,"heroAlt":14,"tags":70,"minutesRead":71},["Date","2023-10-16T00:00:00.000Z"],["Date","2023-10-16T00:00:00.000Z"],[20,21,22,23],"4 min read","what-is-tailwind.md","introduction-pwas",{"id":73,"data":75,"body":91,"filePath":92,"assetImports":93,"digest":95,"rendered":96,"legacyId":115},{"title":76,"hero":77,"heroAlt":78,"description":79,"pubDate":80,"updatedDate":81,"tags":82},"Introduction to Progressive Web Apps (PWAs)","__ASTRO_IMAGE_~/assets/heros/pwa_intro.png","Illustration of progressive web apps","Progressive Web Apps (PWAs) are a new type of web application that combines the best of web and mobile applications. This article provides an introduction to PWAs and their benefits.",["Date","2023-11-08T00:00:00.000Z"],["Date","2023-11-08T00:00:00.000Z"],[83,84,85,86,87,88,89,90],"pwa","offline","web","cross-platform","mobile","service worker","manifest","web app","Progressive Web Apps (PWAs) are a type of application software delivered through the web, built using common web technologies including HTML, CSS, and JavaScript. They are intended to work on any platform that uses a standards-compliant browser, including both desktop and mobile devices.\n\n## Benefits of PWAs\n\nThere are several benefits to using PWAs:\n\n1. **Reliability**: PWAs can load and run even in uncertain network conditions or offline. This is possible due to the use of service workers, a type of web worker.\n\n2. **Speed**: PWAs are fast. They respond quickly to user interactions with smooth animations and no janky scrolling.\n\n3. **Engagement**: PWAs feel like a natural app on the device, with an immersive user experience. This new level of quality allows PWAs to earn a place on the user's home screen.\n\n## Transforming a Standard Web Application into a PWA\n\nTransforming a standard web application into a PWA involves the following steps:\n\n1. **Service Workers**: Implement service workers in your app. Service workers enable your app to load instantly, regardless of the network state.\n\n2. **Web App Manifest**: Add a web app manifest to your site. The web app manifest is a simple JSON file that tells the browser about your web application and how it should behave when 'installed' on the user's mobile device or desktop.\n\n3. **HTTPS**: Serve your app over HTTPS. To ensure the security of your app, PWAs require that the server uses a secure protocol.\n\n4. **Application Shell Architecture**: Adopt the application shell architecture. This design concept separates the core application infrastructure and UI from the data. Your app will load quickly on the user's device and update the content in a reliable way.\n\n5. **Responsive Design**: Ensure your app fits any form factor: desktop, mobile, tablet, or whatever comes next.\n\n6. **App-Like Interactions**: Make your app feel like a native app on the device, with an immersive user experience.\n\n7. **Push Notifications**: Use push notifications to re-engage with your users.\n\n## Conclusion\n\nPWAs are a new type of web application that combines the best of web and mobile applications. They are reliable, fast, and engaging. They are intended to work on any platform that uses a standards-compliant browser, including both desktop and mobile devices.","src/content/blog/introduction-pwas.md",[94],"~/assets/heros/pwa_intro.png","d0f1d0fc2e3f807d",{"html":97,"metadata":98},"\u003Cp>Progressive Web Apps (PWAs) are a type of application software delivered through the web, built using common web technologies including HTML, CSS, and JavaScript. They are intended to work on any platform that uses a standards-compliant browser, including both desktop and mobile devices.\u003C/p>\n\u003Ch2 id=\"benefits-of-pwas\">Benefits of PWAs\u003C/h2>\n\u003Cp>There are several benefits to using PWAs:\u003C/p>\n\u003Col>\n\u003Cli>\n\u003Cp>\u003Cstrong>Reliability\u003C/strong>: PWAs can load and run even in uncertain network conditions or offline. This is possible due to the use of service workers, a type of web worker.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>Speed\u003C/strong>: PWAs are fast. They respond quickly to user interactions with smooth animations and no janky scrolling.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>Engagement\u003C/strong>: PWAs feel like a natural app on the device, with an immersive user experience. This new level of quality allows PWAs to earn a place on the user’s home screen.\u003C/p>\n\u003C/li>\n\u003C/ol>\n\u003Ch2 id=\"transforming-a-standard-web-application-into-a-pwa\">Transforming a Standard Web Application into a PWA\u003C/h2>\n\u003Cp>Transforming a standard web application into a PWA involves the following steps:\u003C/p>\n\u003Col>\n\u003Cli>\n\u003Cp>\u003Cstrong>Service Workers\u003C/strong>: Implement service workers in your app. Service workers enable your app to load instantly, regardless of the network state.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>Web App Manifest\u003C/strong>: Add a web app manifest to your site. The web app manifest is a simple JSON file that tells the browser about your web application and how it should behave when ‘installed’ on the user’s mobile device or desktop.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>HTTPS\u003C/strong>: Serve your app over HTTPS. To ensure the security of your app, PWAs require that the server uses a secure protocol.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>Application Shell Architecture\u003C/strong>: Adopt the application shell architecture. This design concept separates the core application infrastructure and UI from the data. Your app will load quickly on the user’s device and update the content in a reliable way.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>Responsive Design\u003C/strong>: Ensure your app fits any form factor: desktop, mobile, tablet, or whatever comes next.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>App-Like Interactions\u003C/strong>: Make your app feel like a native app on the device, with an immersive user experience.\u003C/p>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>Push Notifications\u003C/strong>: Use push notifications to re-engage with your users.\u003C/p>\n\u003C/li>\n\u003C/ol>\n\u003Ch2 id=\"conclusion\">Conclusion\u003C/h2>\n\u003Cp>PWAs are a new type of web application that combines the best of web and mobile applications. They are reliable, fast, and engaging. They are intended to work on any platform that uses a standards-compliant browser, including both desktop and mobile devices.\u003C/p>",{"headings":99,"imagePaths":109,"frontmatter":110},[100,103,106],{"depth":37,"slug":101,"text":102},"benefits-of-pwas","Benefits of PWAs",{"depth":37,"slug":104,"text":105},"transforming-a-standard-web-application-into-a-pwa","Transforming a Standard Web Application into a PWA",{"depth":37,"slug":107,"text":108},"conclusion","Conclusion",[],{"title":76,"description":79,"pubDate":111,"updatedDate":112,"hero":94,"heroAlt":78,"tags":113,"minutesRead":114},["Date","2023-11-08T00:00:00.000Z"],["Date","2023-11-08T00:00:00.000Z"],[83,84,85,86,87,88,89,90],"2 min read","introduction-pwas.md","mobile-website-optimization-best-practices",{"id":116,"data":118,"body":130,"filePath":131,"assetImports":132,"digest":134,"rendered":135,"legacyId":170},{"title":119,"hero":120,"heroAlt":121,"description":122,"pubDate":123,"updatedDate":124,"tags":125},"Best Practices for Mobile Website Optimization","__ASTRO_IMAGE_~/assets/heros/mobile_website_optimization_best_practices.png","Illustration of mobile website optimization best practices","In the digital age, mobile optimization is crucial for any website. This article provides best practices to ensure your website delivers an optimal experience on mobile devices.",["Date","2023-11-08T00:00:00.000Z"],["Date","2023-11-08T00:00:00.000Z"],[85,87,126,127,128,129],"optimization","best practices","website","development","In the digital era, mobile devices have become an integral part of our online experiences. From browsing the web to online shopping, mobile devices are embedded in our daily routines. As a website owner or developer, it's imperative to optimize your website for mobile devices. Here are some best practices to ensure your website delivers an optimal experience on mobile devices.\n\n## Embrace Responsive Design\n\nResponsive design is no longer a luxury, but a necessity. It involves designing a website to adapt seamlessly to various screen sizes and devices. Responsive design is crucial as it ensures your website is accessible on any device, including mobile ones. Moreover, it boosts your SEO since Google favors responsive websites.\n\n## Efficiently Optimize Images and Media\n\nWhile images and media enrich your website by making it more engaging and visually appealing, they can also hamper your website's performance if not optimized properly. Tools like [TinyPNG](https://tinypng.com/) or [ImageOptim](https://imageoptim.com/) can be used to compress images and media before uploading them to your website, enhancing load times and overall performance.\n\n## Simplify Content and Navigation\n\nContent and navigation are key to an engaging and user-friendly website. However, if not optimized, they can slow down your website. Streamlining content and navigation by eliminating unnecessary elements and reducing the number of pages can enhance your website's performance and user experience.\n\n## Prioritize Page Loading Speed\n\nPage loading speed is a critical aspect of any website. It significantly impacts user experience and accessibility. Tools like [Google PageSpeed Insights](https://developers.google.com/speed/pagespeed/insights/) can be used to analyze your website's performance and identify areas for improvement. Moreover, you can use tools like [Lighthouse](https://developers.google.com/web/tools/lighthouse) to audit your website and identify performance bottlenecks.\n\n## Optimize for Touch\n\n\nMobile devices are primarily touch-based. Therefore, it's crucial to optimize your website for touch. This involves ensuring that buttons and links are large enough to be easily tapped on a mobile device. Moreover, you should ensure that there is enough space between buttons and links to prevent accidental taps.\n\n### Testing\nHeelllo\n\n## Use Mobile-Friendly Forms\n\nForms are an integral part of any website. However, if not optimized for mobile devices, they can be difficult to use. Therefore, it's crucial to ensure that your forms are mobile-friendly. This involves using large input fields and buttons, as well as ensuring that there is enough space between them.\n\n## Conclusion\n\nMobile optimization is crucial for any website. It ensures that your website is accessible on any device, including mobile ones. Moreover, it boosts your SEO since Google favors responsive websites. By following the best practices outlined in this article, you can ensure that your website delivers an optimal experience on mobile devices.\n\n## References\n\n- [Google PageSpeed Insights](https://developers.google.com/speed/pagespeed/insights/)\n- [Lighthouse](https://developers.google.com/web/tools/lighthouse)\n- [TinyPNG](https://tinypng.com/)\n- [ImageOptim](https://imageoptim.com/)","src/content/blog/mobile-website-optimization-best-practices.md",[133],"~/assets/heros/mobile_website_optimization_best_practices.png","81208d2d41bf4d79",{"html":136,"metadata":137},"\u003Cp>In the digital era, mobile devices have become an integral part of our online experiences. From browsing the web to online shopping, mobile devices are embedded in our daily routines. As a website owner or developer, it’s imperative to optimize your website for mobile devices. Here are some best practices to ensure your website delivers an optimal experience on mobile devices.\u003C/p>\n\u003Ch2 id=\"embrace-responsive-design\">Embrace Responsive Design\u003C/h2>\n\u003Cp>Responsive design is no longer a luxury, but a necessity. It involves designing a website to adapt seamlessly to various screen sizes and devices. Responsive design is crucial as it ensures your website is accessible on any device, including mobile ones. Moreover, it boosts your SEO since Google favors responsive websites.\u003C/p>\n\u003Ch2 id=\"efficiently-optimize-images-and-media\">Efficiently Optimize Images and Media\u003C/h2>\n\u003Cp>While images and media enrich your website by making it more engaging and visually appealing, they can also hamper your website’s performance if not optimized properly. Tools like \u003Ca href=\"https://tinypng.com/\">TinyPNG\u003C/a> or \u003Ca href=\"https://imageoptim.com/\">ImageOptim\u003C/a> can be used to compress images and media before uploading them to your website, enhancing load times and overall performance.\u003C/p>\n\u003Ch2 id=\"simplify-content-and-navigation\">Simplify Content and Navigation\u003C/h2>\n\u003Cp>Content and navigation are key to an engaging and user-friendly website. However, if not optimized, they can slow down your website. Streamlining content and navigation by eliminating unnecessary elements and reducing the number of pages can enhance your website’s performance and user experience.\u003C/p>\n\u003Ch2 id=\"prioritize-page-loading-speed\">Prioritize Page Loading Speed\u003C/h2>\n\u003Cp>Page loading speed is a critical aspect of any website. It significantly impacts user experience and accessibility. Tools like \u003Ca href=\"https://developers.google.com/speed/pagespeed/insights/\">Google PageSpeed Insights\u003C/a> can be used to analyze your website’s performance and identify areas for improvement. Moreover, you can use tools like \u003Ca href=\"https://developers.google.com/web/tools/lighthouse\">Lighthouse\u003C/a> to audit your website and identify performance bottlenecks.\u003C/p>\n\u003Ch2 id=\"optimize-for-touch\">Optimize for Touch\u003C/h2>\n\u003Cp>Mobile devices are primarily touch-based. Therefore, it’s crucial to optimize your website for touch. This involves ensuring that buttons and links are large enough to be easily tapped on a mobile device. Moreover, you should ensure that there is enough space between buttons and links to prevent accidental taps.\u003C/p>\n\u003Ch3 id=\"testing\">Testing\u003C/h3>\n\u003Cp>Heelllo\u003C/p>\n\u003Ch2 id=\"use-mobile-friendly-forms\">Use Mobile-Friendly Forms\u003C/h2>\n\u003Cp>Forms are an integral part of any website. However, if not optimized for mobile devices, they can be difficult to use. Therefore, it’s crucial to ensure that your forms are mobile-friendly. This involves using large input fields and buttons, as well as ensuring that there is enough space between them.\u003C/p>\n\u003Ch2 id=\"conclusion\">Conclusion\u003C/h2>\n\u003Cp>Mobile optimization is crucial for any website. It ensures that your website is accessible on any device, including mobile ones. Moreover, it boosts your SEO since Google favors responsive websites. By following the best practices outlined in this article, you can ensure that your website delivers an optimal experience on mobile devices.\u003C/p>\n\u003Ch2 id=\"references\">References\u003C/h2>\n\u003Cul>\n\u003Cli>\u003Ca href=\"https://developers.google.com/speed/pagespeed/insights/\">Google PageSpeed Insights\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://developers.google.com/web/tools/lighthouse\">Lighthouse\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://tinypng.com/\">TinyPNG\u003C/a>\u003C/li>\n\u003Cli>\u003Ca href=\"https://imageoptim.com/\">ImageOptim\u003C/a>\u003C/li>\n\u003C/ul>",{"headings":138,"imagePaths":164,"frontmatter":165},[139,142,145,148,151,154,157,160,161],{"depth":37,"slug":140,"text":141},"embrace-responsive-design","Embrace Responsive Design",{"depth":37,"slug":143,"text":144},"efficiently-optimize-images-and-media","Efficiently Optimize Images and Media",{"depth":37,"slug":146,"text":147},"simplify-content-and-navigation","Simplify Content and Navigation",{"depth":37,"slug":149,"text":150},"prioritize-page-loading-speed","Prioritize Page Loading Speed",{"depth":37,"slug":152,"text":153},"optimize-for-touch","Optimize for Touch",{"depth":41,"slug":155,"text":156},"testing","Testing",{"depth":37,"slug":158,"text":159},"use-mobile-friendly-forms","Use Mobile-Friendly Forms",{"depth":37,"slug":107,"text":108},{"depth":37,"slug":162,"text":163},"references","References",[],{"title":119,"description":122,"pubDate":166,"updatedDate":167,"hero":133,"heroAlt":121,"tags":168,"minutesRead":169},["Date","2023-11-08T00:00:00.000Z"],["Date","2023-11-08T00:00:00.000Z"],[85,87,126,127,128,129],"3 min read","mobile-website-optimization-best-practices.md","install-nginx-secure",{"id":171,"data":173,"body":190,"filePath":191,"assetImports":192,"digest":194,"rendered":195,"legacyId":222},{"title":174,"hero":175,"heroAlt":176,"description":177,"pubDate":178,"updatedDate":179,"tags":180},"Install nginx secure on Ubuntu 22.04, 20.04, 18.04","__ASTRO_IMAGE_~/assets/heros/nginx_secure.png","Nginx secure on Ubuntu","In this tutorial, we will show you how to install and secure Nginx on an Ubuntu 22.04, 20.04, 18.04 server using Let's Encrypt and iptables.",["Date","2023-10-19T00:00:00.000Z"],["Date","2023-10-20T00:00:00.000Z"],[181,182,183,184,185,186,187,188,189],"nginx","ubuntu","linux","webserver","security","firewall","iptables","letsencrypt","certbot","In this tutorial, we will show you how to install and secure Nginx on an Ubuntu 22.04, 20.04, 18.04 server using Let's Encrypt and iptables.\n\n## Prerequisites\n\n- A server running Ubuntu 22.04, 20.04, 18.04.\n- A non-root user with sudo privileges.\n- Ensure that your system is up to date.\n\n```bash\nsudo apt update && sudo apt upgrade -y\n```\n\n## Install Required Packages\n\nFirst, you will need to install the required packages to your system. You can install all of them with the following command:\n\n```bash\nsudo apt install nginx iptables-persistent certbot python3-certbot-nginx curl -y\n```\n\nOnce all the packages are installed, you can proceed to the next step.\n\n## Configure Firewall\n\nNext, you will need to configure the firewall to allow HTTP and HTTPS traffic. You can do it with the following command:\n\n```bash\nsudo iptables -A INPUT -p tcp --dport 80 -j ACCEPT\nsudo iptables -A INPUT -p tcp --dport 443 -j ACCEPT\n```\n\nNext, rate-limit the number of connections per IP address to prevent DDoS attacks:\n\n```bash\nsudo iptables -A INPUT -p tcp --syn --dport 80 -m connlimit --connlimit-above 20 --connlimit-mask 24 -j DROP\nsudo iptables -A INPUT -p tcp --syn --dport 443 -m connlimit --connlimit-above 20 --connlimit-mask 24 -j DROP\n```\n\nNext, allow SSH traffic:\n\n```bash\nsudo iptables -A INPUT -p tcp --dport 22 -j ACCEPT\n```\n\nNext, block invalid packets and new incoming packets that are not SYN:\n\n```bash\niptables -t mangle -A PREROUTING -m conntrack --ctstate INVALID -j DROP\niptables -t mangle -A PREROUTING -p tcp ! --syn -m conntrack --ctstate NEW -j DROP\n```\n\nNext, allow established and related incoming traffic:\n\n```bash\nsudo iptables -A INPUT -p tcp --dport 80,443 -m conntrack --ctstate NEW,ESTABLISHED -j ACCEPT\nsudo iptables -A OUTPUT -p tcp --sport 80,443 -m conntrack --ctstate ESTABLISHED -j ACCEPT\n```\n\nNext, block spoofed packets:\n\n```bash\niptables -t mangle -A PREROUTING -p tcp --tcp-flags FIN,SYN FIN,SYN -j DROP\niptables -t mangle -A PREROUTING -p tcp --tcp-flags SYN,RST SYN,RST -j DROP\niptables -t mangle -A PREROUTING -p tcp --tcp-flags FIN,RST FIN,RST -j DROP\niptables -t mangle -A PREROUTING -p tcp --tcp-flags FIN,ACK FIN -j DROP\niptables -t mangle -A PREROUTING -p tcp --tcp-flags ACK,URG URG -j DROP\niptables -t mangle -A PREROUTING -p tcp --tcp-flags ACK,PSH PSH -j DROP\niptables -t mangle -A PREROUTING -p tcp --tcp-flags ALL NONE -j DROP\n```\n\nFinally, block all other incoming traffic:\n\n```bash\niptables -t mangle -A PREROUTING -s 224.0.0.0/3 -j DROP \niptables -t mangle -A PREROUTING -s 169.254.0.0/16 -j DROP \niptables -t mangle -A PREROUTING -s 172.16.0.0/12 -j DROP \niptables -t mangle -A PREROUTING -s 192.0.2.0/24 -j DROP \niptables -t mangle -A PREROUTING -s 192.168.0.0/16 -j DROP \niptables -t mangle -A PREROUTING -s 10.0.0.0/8 -j DROP \niptables -t mangle -A PREROUTING -s 0.0.0.0/8 -j DROP \niptables -t mangle -A PREROUTING -s 240.0.0.0/5 -j DROP \niptables -t mangle -A PREROUTING -s 127.0.0.0/8 ! -i lo -j DROP\n```\n\n## Certbot\n\nYou will need to edit the Nginx configuration file and add your domain name. You can do it with the following command:\n\n```bash\nsudo nano /etc/nginx/sites-available/default\n```\n\nEdit each line where it says `server_name` and replace it with your domain name. Like this:\n\n```bash\nserver {\n    server_name _; # replace with your domain name server_name example.com www.example.com;\n}\n```\n\nNext, you will need to obtain an SSL certificate from Let's Encrypt. You can do it with the following command:\n\n```bash\nsudo certbot --nginx -d example.com -d www.example.com\n```\n\nReplace `example.com` with your domain name. You will be asked to provide your email address and accept the terms of service.\n\n## Configure Nginx\n\nNext, you will need to configure Nginx to redirect all HTTP traffic to HTTPS. You can do it with the following command:\n\n```bash\nsudo nano /etc/nginx/sites-available/default\n```\n\nReplace all the lines with the following lines:\n\n```bash\nserver_tokens off;\n\nserver {\n    listen 80;\n    server_name example.com www.example.com;\n    return 301 https://$host$request_uri;\n}\n\nserver {\n    listen 443 ssl http2;\n    server_name example.com www.example.com;\n    \n    ssl_certificate /etc/letsencrypt/live/example.com/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/example.com/privkey.pem;\n    ssl_session_cache shared:SSL:10m;\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_ciphers \"ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384\";\n    ssl_prefer_server_ciphers on;\n    \n    add_header Strict-Transport-Security \"max-age=31536000; includeSubDomains; preload\";\n    add_header X-Frame-Options SAMEORIGIN;\n    add_header X-Content-Type-Options nosniff;\n    add_header X-XSS-Protection \"1; mode=block\";\n    add_header Referrer-Policy \"no-referrer-when-downgrade\";\n    add_header Content-Security-Policy \"default-src 'self' http: https: data: blob: 'unsafe-inline'\";\n    add_header Permissions-Policy \"geolocation=(self), microphone=(), camera=()\";\n\n    root /var/www/html;\n    index index.html index.htm index.nginx-debian.html;\n\n    location / {\n        try_files $uri $uri/ =404;\n    }\n\n    location ~ /\\.ht {\n        deny all;\n    }\n\n    location ~* \\.(?:css|gif|htc|ico|jpg|js|png|svg|woff|woff2|otf)$ {\n        expires 1M;\n        access_log off;\n        add_header Cache-Control \"public\";\n    }\n\n    location ~* \\.(?:html|htm|txt)$ {\n        expires 1M;\n        access_log off;\n        add_header Cache-Control \"public\";\n    }\n\n    location ~* \\.(?:ttf|eot)$ {\n        expires 1M;\n        access_log off;\n        add_header Cache-Control \"public\";\n    }\n\n    location ~* \\.(?:xml|rss|svg|svgz|atom)$ {\n        expires 1h;\n        access_log off;\n        add_header Cache-Control \"public\";\n    }\n\n    location ~* \\.(?:js|css)$ {\n        expires 1y;\n        access_log off;\n        add_header Cache-Control \"public\";\n    }\n\n    location ~* \\.(?:json|map)$ {\n        expires 1y;\n        access_log off;\n        add_header Cache-Control \"public\";\n    }\n}\n```\n\nSave and close the file when you are finished. Then, test the Nginx configuration with the following command:\n\n```bash\nsudo nginx -t\n```\n\nYou should get the following output:\n\n```bash\nnginx: the configuration file /etc/nginx/nginx.conf syntax is ok\nnginx: configuration file /etc/nginx/nginx.conf test is successful\n```\n\nNext, restart the Nginx service to apply the changes:\n\n```bash\nsudo systemctl restart nginx\n```\n\n## Thank you for reading\n\nIn this tutorial, you have learned how to install and secure Nginx on Ubuntu 22.04, 20.04, 18.04 server using Let's Encrypt and iptables. You can now host your website on your own server.","src/content/blog/install-nginx-secure.md",[193],"~/assets/heros/nginx_secure.png","22ef65584081ac2b",{"html":196,"metadata":197},"\u003Cp>In this tutorial, we will show you how to install and secure Nginx on an Ubuntu 22.04, 20.04, 18.04 server using Let’s Encrypt and iptables.\u003C/p>\n\u003Ch2 id=\"prerequisites\">Prerequisites\u003C/h2>\n\u003Cul>\n\u003Cli>A server running Ubuntu 22.04, 20.04, 18.04.\u003C/li>\n\u003Cli>A non-root user with sudo privileges.\u003C/li>\n\u003Cli>Ensure that your system is up to date.\u003C/li>\n\u003C/ul>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">sudo\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> apt\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> update\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> &#x26;&#x26; \u003C/span>\u003Cspan style=\"color:#B392F0\">sudo\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> apt\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> upgrade\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -y\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch2 id=\"install-required-packages\">Install Required Packages\u003C/h2>\n\u003Cp>First, you will need to install the required packages to your system. You can install all of them with the following command:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">sudo\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> apt\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> install\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> nginx\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> iptables-persistent\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> certbot\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> python3-certbot-nginx\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> curl\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -y\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Once all the packages are installed, you can proceed to the next step.\u003C/p>\n\u003Ch2 id=\"configure-firewall\">Configure Firewall\u003C/h2>\n\u003Cp>Next, you will need to configure the firewall to allow HTTP and HTTPS traffic. You can do it with the following command:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">sudo\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> iptables\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -A\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> INPUT\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -p\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> tcp\u003C/span>\u003Cspan style=\"color:#79B8FF\"> --dport\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 80\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -j\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> ACCEPT\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">sudo\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> iptables\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -A\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> INPUT\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -p\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> tcp\u003C/span>\u003Cspan style=\"color:#79B8FF\"> --dport\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 443\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -j\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> ACCEPT\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Next, rate-limit the number of connections per IP address to prevent DDoS attacks:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">sudo\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> iptables\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -A\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> INPUT\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -p\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> tcp\u003C/span>\u003Cspan style=\"color:#79B8FF\"> --syn\u003C/span>\u003Cspan style=\"color:#79B8FF\"> --dport\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 80\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -m\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> connlimit\u003C/span>\u003Cspan style=\"color:#79B8FF\"> --connlimit-above\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 20\u003C/span>\u003Cspan style=\"color:#79B8FF\"> --connlimit-mask\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 24\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -j\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> DROP\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">sudo\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> iptables\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -A\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> INPUT\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -p\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> tcp\u003C/span>\u003Cspan style=\"color:#79B8FF\"> --syn\u003C/span>\u003Cspan style=\"color:#79B8FF\"> --dport\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 443\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -m\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> connlimit\u003C/span>\u003Cspan style=\"color:#79B8FF\"> --connlimit-above\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 20\u003C/span>\u003Cspan style=\"color:#79B8FF\"> --connlimit-mask\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 24\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -j\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> DROP\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Next, allow SSH traffic:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">sudo\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> iptables\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -A\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> INPUT\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -p\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> tcp\u003C/span>\u003Cspan style=\"color:#79B8FF\"> --dport\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 22\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -j\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> ACCEPT\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Next, block invalid packets and new incoming packets that are not SYN:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">iptables\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -t\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> mangle\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -A\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> PREROUTING\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -m\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> conntrack\u003C/span>\u003Cspan style=\"color:#79B8FF\"> --ctstate\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> INVALID\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -j\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> DROP\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">iptables\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -t\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> mangle\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -A\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> PREROUTING\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -p\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> tcp\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> !\u003C/span>\u003Cspan style=\"color:#79B8FF\"> --syn\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -m\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> conntrack\u003C/span>\u003Cspan style=\"color:#79B8FF\"> --ctstate\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> NEW\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -j\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> DROP\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Next, allow established and related incoming traffic:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">sudo\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> iptables\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -A\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> INPUT\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -p\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> tcp\u003C/span>\u003Cspan style=\"color:#79B8FF\"> --dport\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 80,443\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -m\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> conntrack\u003C/span>\u003Cspan style=\"color:#79B8FF\"> --ctstate\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> NEW,ESTABLISHED\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -j\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> ACCEPT\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">sudo\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> iptables\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -A\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> OUTPUT\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -p\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> tcp\u003C/span>\u003Cspan style=\"color:#79B8FF\"> --sport\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 80,443\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -m\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> conntrack\u003C/span>\u003Cspan style=\"color:#79B8FF\"> --ctstate\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> ESTABLISHED\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -j\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> ACCEPT\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Next, block spoofed packets:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">iptables\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -t\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> mangle\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -A\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> PREROUTING\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -p\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> tcp\u003C/span>\u003Cspan style=\"color:#79B8FF\"> --tcp-flags\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> FIN,SYN\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> FIN,SYN\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -j\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> DROP\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">iptables\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -t\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> mangle\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -A\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> PREROUTING\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -p\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> tcp\u003C/span>\u003Cspan style=\"color:#79B8FF\"> --tcp-flags\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> SYN,RST\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> SYN,RST\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -j\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> DROP\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">iptables\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -t\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> mangle\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -A\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> PREROUTING\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -p\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> tcp\u003C/span>\u003Cspan style=\"color:#79B8FF\"> --tcp-flags\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> FIN,RST\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> FIN,RST\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -j\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> DROP\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">iptables\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -t\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> mangle\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -A\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> PREROUTING\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -p\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> tcp\u003C/span>\u003Cspan style=\"color:#79B8FF\"> --tcp-flags\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> FIN,ACK\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> FIN\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -j\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> DROP\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">iptables\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -t\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> mangle\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -A\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> PREROUTING\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -p\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> tcp\u003C/span>\u003Cspan style=\"color:#79B8FF\"> --tcp-flags\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> ACK,URG\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> URG\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -j\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> DROP\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">iptables\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -t\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> mangle\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -A\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> PREROUTING\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -p\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> tcp\u003C/span>\u003Cspan style=\"color:#79B8FF\"> --tcp-flags\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> ACK,PSH\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> PSH\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -j\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> DROP\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">iptables\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -t\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> mangle\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -A\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> PREROUTING\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -p\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> tcp\u003C/span>\u003Cspan style=\"color:#79B8FF\"> --tcp-flags\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> ALL\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> NONE\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -j\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> DROP\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Finally, block all other incoming traffic:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">iptables\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -t\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> mangle\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -A\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> PREROUTING\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -s\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 224.0.0.0/3\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -j\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> DROP\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">iptables\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -t\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> mangle\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -A\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> PREROUTING\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -s\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 169.254.0.0/16\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -j\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> DROP\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">iptables\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -t\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> mangle\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -A\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> PREROUTING\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -s\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 172.16.0.0/12\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -j\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> DROP\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">iptables\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -t\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> mangle\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -A\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> PREROUTING\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -s\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 192.0.2.0/24\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -j\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> DROP\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">iptables\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -t\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> mangle\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -A\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> PREROUTING\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -s\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 192.168.0.0/16\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -j\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> DROP\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">iptables\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -t\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> mangle\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -A\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> PREROUTING\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -s\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 10.0.0.0/8\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -j\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> DROP\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">iptables\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -t\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> mangle\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -A\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> PREROUTING\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -s\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 0.0.0.0/8\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -j\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> DROP\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">iptables\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -t\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> mangle\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -A\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> PREROUTING\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -s\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 240.0.0.0/5\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -j\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> DROP\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">iptables\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -t\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> mangle\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -A\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> PREROUTING\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -s\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 127.0.0.0/8\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> !\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -i\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> lo\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -j\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> DROP\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch2 id=\"certbot\">Certbot\u003C/h2>\n\u003Cp>You will need to edit the Nginx configuration file and add your domain name. You can do it with the following command:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">sudo\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> nano\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> /etc/nginx/sites-available/default\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Edit each line where it says \u003Ccode>server_name\u003C/code> and replace it with your domain name. Like this:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">server\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    server_name\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> _\u003C/span>\u003Cspan style=\"color:#E1E4E8\">; \u003C/span>\u003Cspan style=\"color:#6A737D\"># replace with your domain name server_name example.com www.example.com;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Next, you will need to obtain an SSL certificate from Let’s Encrypt. You can do it with the following command:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">sudo\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> certbot\u003C/span>\u003Cspan style=\"color:#79B8FF\"> --nginx\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -d\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> example.com\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -d\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> www.example.com\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Replace \u003Ccode>example.com\u003C/code> with your domain name. You will be asked to provide your email address and accept the terms of service.\u003C/p>\n\u003Ch2 id=\"configure-nginx\">Configure Nginx\u003C/h2>\n\u003Cp>Next, you will need to configure Nginx to redirect all HTTP traffic to HTTPS. You can do it with the following command:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">sudo\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> nano\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> /etc/nginx/sites-available/default\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Replace all the lines with the following lines:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">server_tokens\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> off\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">server\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    listen\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 80\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    server_name\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> example.com\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> www.example.com\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    return\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 301\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> https://\u003C/span>\u003Cspan style=\"color:#E1E4E8\">$host$request_uri;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">server\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    listen\u003C/span>\u003Cspan style=\"color:#79B8FF\"> 443\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> ssl\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> http2\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    server_name\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> example.com\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> www.example.com\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    ssl_certificate\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> /etc/letsencrypt/live/example.com/fullchain.pem\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    ssl_certificate_key\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> /etc/letsencrypt/live/example.com/privkey.pem\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    ssl_session_cache\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> shared:SSL:10m\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    ssl_protocols\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> TLSv1.2\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> TLSv1.3\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    ssl_ciphers\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    ssl_prefer_server_ciphers\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> on\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    \u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    add_header\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> Strict-Transport-Security\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"max-age=31536000; includeSubDomains; preload\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    add_header\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> X-Frame-Options\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> SAMEORIGIN\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    add_header\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> X-Content-Type-Options\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> nosniff\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    add_header\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> X-XSS-Protection\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"1; mode=block\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    add_header\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> Referrer-Policy\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"no-referrer-when-downgrade\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    add_header\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> Content-Security-Policy\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"default-src 'self' http: https: data: blob: 'unsafe-inline'\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    add_header\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> Permissions-Policy\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"geolocation=(self), microphone=(), camera=()\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    root\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> /var/www/html\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    index\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> index.html\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> index.htm\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> index.nginx-debian.html\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    location\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> /\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        try_files\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> $uri $uri\u003C/span>\u003Cspan style=\"color:#9ECBFF\">/\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> =\u003C/span>\u003Cspan style=\"color:#79B8FF\">404\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    location\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> ~\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> /\u003C/span>\u003Cspan style=\"color:#79B8FF\">\\.\u003C/span>\u003Cspan style=\"color:#9ECBFF\">ht\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        deny\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> all\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    location\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> ~\u003C/span>\u003Cspan style=\"color:#79B8FF\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> \\.\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">?\u003C/span>\u003Cspan style=\"color:#E1E4E8\">:css\u003C/span>\u003Cspan style=\"color:#F97583\">|\u003C/span>\u003Cspan style=\"color:#B392F0\">gif\u003C/span>\u003Cspan style=\"color:#F97583\">|\u003C/span>\u003Cspan style=\"color:#B392F0\">htc\u003C/span>\u003Cspan style=\"color:#F97583\">|\u003C/span>\u003Cspan style=\"color:#B392F0\">ico\u003C/span>\u003Cspan style=\"color:#F97583\">|\u003C/span>\u003Cspan style=\"color:#B392F0\">jpg\u003C/span>\u003Cspan style=\"color:#F97583\">|\u003C/span>\u003Cspan style=\"color:#B392F0\">js\u003C/span>\u003Cspan style=\"color:#F97583\">|\u003C/span>\u003Cspan style=\"color:#B392F0\">png\u003C/span>\u003Cspan style=\"color:#F97583\">|\u003C/span>\u003Cspan style=\"color:#B392F0\">svg\u003C/span>\u003Cspan style=\"color:#F97583\">|\u003C/span>\u003Cspan style=\"color:#B392F0\">woff\u003C/span>\u003Cspan style=\"color:#F97583\">|\u003C/span>\u003Cspan style=\"color:#B392F0\">woff2\u003C/span>\u003Cspan style=\"color:#F97583\">|\u003C/span>\u003Cspan style=\"color:#B392F0\">otf\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)$ \u003C/span>\u003Cspan style=\"color:#9ECBFF\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        expires\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 1M\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        access_log\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> off\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        add_header\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> Cache-Control\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"public\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    location\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> ~\u003C/span>\u003Cspan style=\"color:#79B8FF\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> \\.\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">?\u003C/span>\u003Cspan style=\"color:#E1E4E8\">:html\u003C/span>\u003Cspan style=\"color:#F97583\">|\u003C/span>\u003Cspan style=\"color:#B392F0\">htm\u003C/span>\u003Cspan style=\"color:#F97583\">|\u003C/span>\u003Cspan style=\"color:#B392F0\">txt\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)$ \u003C/span>\u003Cspan style=\"color:#9ECBFF\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        expires\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 1M\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        access_log\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> off\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        add_header\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> Cache-Control\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"public\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    location\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> ~\u003C/span>\u003Cspan style=\"color:#79B8FF\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> \\.\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">?\u003C/span>\u003Cspan style=\"color:#E1E4E8\">:ttf\u003C/span>\u003Cspan style=\"color:#F97583\">|\u003C/span>\u003Cspan style=\"color:#B392F0\">eot\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)$ \u003C/span>\u003Cspan style=\"color:#9ECBFF\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        expires\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 1M\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        access_log\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> off\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        add_header\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> Cache-Control\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"public\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    location\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> ~\u003C/span>\u003Cspan style=\"color:#79B8FF\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> \\.\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">?\u003C/span>\u003Cspan style=\"color:#E1E4E8\">:xml\u003C/span>\u003Cspan style=\"color:#F97583\">|\u003C/span>\u003Cspan style=\"color:#B392F0\">rss\u003C/span>\u003Cspan style=\"color:#F97583\">|\u003C/span>\u003Cspan style=\"color:#B392F0\">svg\u003C/span>\u003Cspan style=\"color:#F97583\">|\u003C/span>\u003Cspan style=\"color:#B392F0\">svgz\u003C/span>\u003Cspan style=\"color:#F97583\">|\u003C/span>\u003Cspan style=\"color:#B392F0\">atom\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)$ \u003C/span>\u003Cspan style=\"color:#9ECBFF\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        expires\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 1h\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        access_log\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> off\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        add_header\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> Cache-Control\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"public\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    location\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> ~\u003C/span>\u003Cspan style=\"color:#79B8FF\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> \\.\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">?\u003C/span>\u003Cspan style=\"color:#E1E4E8\">:js\u003C/span>\u003Cspan style=\"color:#F97583\">|\u003C/span>\u003Cspan style=\"color:#B392F0\">css\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)$ \u003C/span>\u003Cspan style=\"color:#9ECBFF\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        expires\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 1y\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        access_log\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> off\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        add_header\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> Cache-Control\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"public\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    location\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> ~\u003C/span>\u003Cspan style=\"color:#79B8FF\">*\u003C/span>\u003Cspan style=\"color:#79B8FF\"> \\.\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#F97583\">?\u003C/span>\u003Cspan style=\"color:#E1E4E8\">:json\u003C/span>\u003Cspan style=\"color:#F97583\">|\u003C/span>\u003Cspan style=\"color:#B392F0\">map\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)$ \u003C/span>\u003Cspan style=\"color:#9ECBFF\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        expires\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> 1y\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        access_log\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> off\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">        add_header\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> Cache-Control\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"public\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Save and close the file when you are finished. Then, test the Nginx configuration with the following command:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">sudo\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> nginx\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -t\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>You should get the following output:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">nginx:\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> the\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> configuration\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> file\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> /etc/nginx/nginx.conf\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> syntax\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> is\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> ok\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">nginx:\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> configuration\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> file\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> /etc/nginx/nginx.conf\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> test\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> is\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> successful\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Next, restart the Nginx service to apply the changes:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">sudo\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> systemctl\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> restart\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> nginx\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch2 id=\"thank-you-for-reading\">Thank you for reading\u003C/h2>\n\u003Cp>In this tutorial, you have learned how to install and secure Nginx on Ubuntu 22.04, 20.04, 18.04 server using Let’s Encrypt and iptables. You can now host your website on your own server.\u003C/p>",{"headings":198,"imagePaths":216,"frontmatter":217},[199,202,205,208,210,213],{"depth":37,"slug":200,"text":201},"prerequisites","Prerequisites",{"depth":37,"slug":203,"text":204},"install-required-packages","Install Required Packages",{"depth":37,"slug":206,"text":207},"configure-firewall","Configure Firewall",{"depth":37,"slug":189,"text":209},"Certbot",{"depth":37,"slug":211,"text":212},"configure-nginx","Configure Nginx",{"depth":37,"slug":214,"text":215},"thank-you-for-reading","Thank you for reading",[],{"title":174,"description":177,"pubDate":218,"updatedDate":219,"hero":193,"heroAlt":176,"tags":220,"minutesRead":221},["Date","2023-10-19T00:00:00.000Z"],["Date","2023-10-20T00:00:00.000Z"],[181,182,183,184,185,186,187,188,189],"5 min read","install-nginx-secure.md","dark-mode-in-astro",{"id":223,"data":225,"body":236,"filePath":237,"assetImports":238,"digest":240,"rendered":241,"legacyId":268},{"title":226,"hero":227,"heroAlt":228,"description":229,"pubDate":230,"updatedDate":231,"tags":232},"Implement dark mode in your Astro project with Tailwind CSS","__ASTRO_IMAGE_~/assets/heros/astro_dark.png","Astro logo with a dark background","This guide will walk you through adding a seamless dark mode to your Astro project using Tailwind CSS and the prefers-color-scheme media query.",["Date","2023-08-16T00:00:00.000Z"],["Date","2023-10-16T00:00:00.000Z"],[233,20,234,235,21,22],"astro","dark-mode","preact","Enhancing website accessibility is easy with the addition of a dark mode. In this comprehensive guide, we'll demonstrate how to seamlessly integrate a perfect dark mode into your Astro project using Tailwind CSS. While you can use your preferred framework, we'll leverage Preact for the UI development.\n\n## Getting Started\n\nBegin by creating a new Astro project:\n\n```sh\nnpm create astro@latest\n```\n\nNext, install the TailwindCSS and Preact integrations:\n\n```sh\nnpm install -D @astrojs/tailwind @astrojs/preact\nnpm install preact\n```\n\nAdd both integrations to your `astro.config.mjs` file:\n\n```js title=\"astro.config.mjs\"\nimport { defineConfig } from \"astro/config\";\nimport tailwind from \"@astrojs/tailwind\";\nimport preact from \"@astrojs/preact\";\n\nexport default defineConfig({\n  integrations: [preact(), tailwind()],\n});\n```\n\nNow, create a minimal Tailwind CSS configuration file in the project's root directory. Ensure that you modify the content property to include all files containing your styles. Also, set the darkMode property to \"class\" for enabling dark mode:\n\n```js title=\"tailwind.config.cjs\"\nmodule.exports = {\n  content: [\"./src/**/*.{js,ts,jsx,tsx,astro}\"],\n  darkMode: \"class\",\n  theme: {},\n  plugins: [],\n};\n```\n\n## Hands-on Implementation\n\nAstro offers the capability to add inline scripts directly to your Astro files, which execute as soon as the HTML loads. This approach prevents the common \"flash of inaccurate color theme\" issue when implementing dark mode with hydration. You can find more details about inline scripts in the [Astro documentation](https://docs.astro.build/en/reference/directives-reference/#isinline).\n\nThe following code extracts the user's preferred theme and applies it to the HTML element. You can copy, paste, or customize this code snippet in your Astro project. We'll explain each line in the next section.\n\n\n```astro title=\"Layout.astro\"\n\u003Cscript is:inline>\n  const theme = (() => {\n    if (typeof localStorage !== \"undefined\" && localStorage.getItem(\"theme\")) {\n      return localStorage.getItem(\"theme\");\n    }\n    if (window.matchMedia(\"(prefers-color-scheme: dark)\").matches) {\n      return \"dark\";\n    }\n    return \"light\";\n  })();\n\n  if (theme === \"light\") {\n    document.documentElement.classList.remove(\"dark\");\n  } else {\n    document.documentElement.classList.add(\"dark\");\n  }\n  window.localStorage.setItem(\"theme\", theme);\n\u003C/script>\n```\n\nThe `theme` variable is an immediately invoked function expression (IIFE) that returns the current theme based on the user's preference. The first `if` statement checks if the user has a previously saved theme in localStorage. If so, it returns that theme. The second `if` statement checks if the user prefers dark mode based on their system settings. If so, it returns `\"dark\"`. If none of the conditions are met, it returns `\"light\"`. Once the theme is defined, we use it to add or remove the `\"dark\"` class from the HTML element and save the theme to localStorage.\n\n## Creating the UI\n\nIn Astro, you can use any UI framework of your choice. For this example, we will use **Preact** due to its small size and performance. The following code snippet renders a button that toggles between dark and light mode:\n\n```tsx title=\"ThemeToggle.tsx\"\nimport { useEffect, useState\n\n } from \"preact/hooks\";\nimport type { FunctionalComponent } from \"preact\";\n\nexport default function ThemeToggle(): FunctionalComponent {\n  const [theme, setTheme] = useState(localStorage.getItem(\"theme\") ?? \"light\");\n\n  const handleClick = () => {\n    setTheme(theme === \"light\" ? \"dark\" : \"light\");\n  };\n\n  useEffect(() => {\n    if (theme === \"dark\") {\n      document.documentElement.classList.add(\"dark\");\n    } else {\n      document.documentElement.classList.remove(\"dark\");\n    }\n    localStorage.setItem(\"theme\", theme);\n  }, [theme]);\n\n  return (\n    \u003Cbutton onClick={handleClick}>{theme === \"light\" ? \"🌙\" : \"🌞\"}\u003C/button>\n  );\n}\n```\n\n## Rendering Components on the Server\n\nRegardless of the UI framework you use, if you are using Static Site Generation (SSG), Astro will render your UI components on the server at build time and hydrate them on the client side. This feature improves website performance, accessibility, and SEO.\n\nHowever, this feature also has some trade-offs. Since components are rendered on the server, web APIs like `localStorage` or `window` are not available.\n\n### Fallback Initial State\n\nTo overcome this limitation, you can add a fallback initial state that will be used during build time and then updated to the correct state after hydration. For example:\n\n```jsx\nconst [theme, setTheme] = useState(localStorage.getItem(\"theme\") ?? \"light\");\n```\n\nIn the above code, we attempt to get the theme from `localStorage`, and if it's not available, we use `\"light\"` as the initial state. Using a fallback initial state is a common approach to solve this problem. However, it can lead to a \"client/server state mismatch\" issue, where the initial state differs from the state after hydration.\n\n### Addressing the Client/Server Mismatch\n\nOne way to address the client/server mismatch is by adding a `mounted` state. This state ensures that your component's rendering waits until it is mounted to the DOM, making all the web APIs available and ensuring that the initial state matches the state after hydration. You can achieve this using the `useState` and `useEffect` hooks to create a mounted state. Here's an example:\n\n```jsx title=\"ThemeToggle.tsx\"\nconst [isMounted, setIsMounted] = useState(false);\n\nuseEffect(() => {\n  setIsMounted(true);\n}, []);\n\nif (!isMounted) {\n  return \u003CFallbackUI />; // or null;\n}\n\nreturn \u003Cbutton>{theme === \"light\" ? \"🌙\" : \"🌞\"}\u003C/button>;\n```\n\nBy checking the `isMounted` state, we can render a fallback UI or `null` until the component is mounted. Once it's mounted, the actual UI will be rendered.","src/content/blog/dark-mode-in-astro.md",[239],"~/assets/heros/astro_dark.png","09e1037c2f18bee5",{"html":242,"metadata":243},"\u003Cp>Enhancing website accessibility is easy with the addition of a dark mode. In this comprehensive guide, we’ll demonstrate how to seamlessly integrate a perfect dark mode into your Astro project using Tailwind CSS. While you can use your preferred framework, we’ll leverage Preact for the UI development.\u003C/p>\n\u003Ch2 id=\"getting-started\">Getting Started\u003C/h2>\n\u003Cp>Begin by creating a new Astro project:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"sh\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">npm\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> create\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> astro@latest\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Next, install the TailwindCSS and Preact integrations:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"sh\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">npm\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> install\u003C/span>\u003Cspan style=\"color:#79B8FF\"> -D\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> @astrojs/tailwind\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> @astrojs/preact\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">npm\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> install\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> preact\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Add both integrations to your \u003Ccode>astro.config.mjs\u003C/code> file:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"js\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { defineConfig } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"astro/config\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> tailwind \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"@astrojs/tailwind\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> preact \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"@astrojs/preact\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">export\u003C/span>\u003Cspan style=\"color:#F97583\"> default\u003C/span>\u003Cspan style=\"color:#B392F0\"> defineConfig\u003C/span>\u003Cspan style=\"color:#E1E4E8\">({\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  integrations: [\u003C/span>\u003Cspan style=\"color:#B392F0\">preact\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(), \u003C/span>\u003Cspan style=\"color:#B392F0\">tailwind\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">});\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>Now, create a minimal Tailwind CSS configuration file in the project’s root directory. Ensure that you modify the content property to include all files containing your styles. Also, set the darkMode property to “class” for enabling dark mode:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"js\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#79B8FF\">module\u003C/span>\u003Cspan style=\"color:#E1E4E8\">.\u003C/span>\u003Cspan style=\"color:#79B8FF\">exports\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  content: [\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"./src/**/*.{js,ts,jsx,tsx,astro}\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  darkMode: \u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"class\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  theme: {},\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  plugins: [],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">};\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch2 id=\"hands-on-implementation\">Hands-on Implementation\u003C/h2>\n\u003Cp>Astro offers the capability to add inline scripts directly to your Astro files, which execute as soon as the HTML loads. This approach prevents the common “flash of inaccurate color theme” issue when implementing dark mode with hydration. You can find more details about inline scripts in the \u003Ca href=\"https://docs.astro.build/en/reference/directives-reference/#isinline\">Astro documentation\u003C/a>.\u003C/p>\n\u003Cp>The following code extracts the user’s preferred theme and applies it to the HTML element. You can copy, paste, or customize this code snippet in your Astro project. We’ll explain each line in the next section.\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"astro\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">script\u003C/span>\u003Cspan style=\"color:#B392F0\"> is:inline\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#79B8FF\"> theme\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (() \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#F97583\">typeof\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> localStorage \u003C/span>\u003Cspan style=\"color:#F97583\">!==\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"undefined\"\u003C/span>\u003Cspan style=\"color:#F97583\"> &#x26;&#x26;\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> localStorage.\u003C/span>\u003Cspan style=\"color:#B392F0\">getItem\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"theme\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">)) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      return\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> localStorage.\u003C/span>\u003Cspan style=\"color:#B392F0\">getItem\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"theme\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (window.\u003C/span>\u003Cspan style=\"color:#B392F0\">matchMedia\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"(prefers-color-scheme: dark)\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">).matches) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">      return\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"dark\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    return\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"light\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  })();\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (theme \u003C/span>\u003Cspan style=\"color:#F97583\">===\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"light\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    document.documentElement.classList.\u003C/span>\u003Cspan style=\"color:#B392F0\">remove\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"dark\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  } \u003C/span>\u003Cspan style=\"color:#F97583\">else\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    document.documentElement.classList.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"dark\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  window.localStorage.\u003C/span>\u003Cspan style=\"color:#B392F0\">setItem\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"theme\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, theme);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">script\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>The \u003Ccode>theme\u003C/code> variable is an immediately invoked function expression (IIFE) that returns the current theme based on the user’s preference. The first \u003Ccode>if\u003C/code> statement checks if the user has a previously saved theme in localStorage. If so, it returns that theme. The second \u003Ccode>if\u003C/code> statement checks if the user prefers dark mode based on their system settings. If so, it returns \u003Ccode>\"dark\"\u003C/code>. If none of the conditions are met, it returns \u003Ccode>\"light\"\u003C/code>. Once the theme is defined, we use it to add or remove the \u003Ccode>\"dark\"\u003C/code> class from the HTML element and save the theme to localStorage.\u003C/p>\n\u003Ch2 id=\"creating-the-ui\">Creating the UI\u003C/h2>\n\u003Cp>In Astro, you can use any UI framework of your choice. For this example, we will use \u003Cstrong>Preact\u003C/strong> due to its small size and performance. The following code snippet renders a button that toggles between dark and light mode:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"tsx\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { useEffect, useState\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\"> } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"preact/hooks\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">import\u003C/span>\u003Cspan style=\"color:#F97583\"> type\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> { FunctionalComponent } \u003C/span>\u003Cspan style=\"color:#F97583\">from\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"preact\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">export\u003C/span>\u003Cspan style=\"color:#F97583\"> default\u003C/span>\u003Cspan style=\"color:#F97583\"> function\u003C/span>\u003Cspan style=\"color:#B392F0\"> ThemeToggle\u003C/span>\u003Cspan style=\"color:#E1E4E8\">()\u003C/span>\u003Cspan style=\"color:#F97583\">:\u003C/span>\u003Cspan style=\"color:#B392F0\"> FunctionalComponent\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> [\u003C/span>\u003Cspan style=\"color:#79B8FF\">theme\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">setTheme\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#B392F0\"> useState\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(localStorage.\u003C/span>\u003Cspan style=\"color:#B392F0\">getItem\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"theme\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">??\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"light\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  const\u003C/span>\u003Cspan style=\"color:#B392F0\"> handleClick\u003C/span>\u003Cspan style=\"color:#F97583\"> =\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> () \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">    setTheme\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(theme \u003C/span>\u003Cspan style=\"color:#F97583\">===\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"light\"\u003C/span>\u003Cspan style=\"color:#F97583\"> ?\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"dark\"\u003C/span>\u003Cspan style=\"color:#F97583\"> :\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"light\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  };\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">  useEffect\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(() \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">    if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (theme \u003C/span>\u003Cspan style=\"color:#F97583\">===\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"dark\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      document.documentElement.classList.\u003C/span>\u003Cspan style=\"color:#B392F0\">add\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"dark\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    } \u003C/span>\u003Cspan style=\"color:#F97583\">else\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">      document.documentElement.classList.\u003C/span>\u003Cspan style=\"color:#B392F0\">remove\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"dark\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    localStorage.\u003C/span>\u003Cspan style=\"color:#B392F0\">setItem\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"theme\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, theme);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  }, [theme]);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  return\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">    &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">button\u003C/span>\u003Cspan style=\"color:#B392F0\"> onClick\u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#E1E4E8\">{handleClick}>{theme \u003C/span>\u003Cspan style=\"color:#F97583\">===\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"light\"\u003C/span>\u003Cspan style=\"color:#F97583\"> ?\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"🌙\"\u003C/span>\u003Cspan style=\"color:#F97583\"> :\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"🌞\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">}&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">button\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">  );\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch2 id=\"rendering-components-on-the-server\">Rendering Components on the Server\u003C/h2>\n\u003Cp>Regardless of the UI framework you use, if you are using Static Site Generation (SSG), Astro will render your UI components on the server at build time and hydrate them on the client side. This feature improves website performance, accessibility, and SEO.\u003C/p>\n\u003Cp>However, this feature also has some trade-offs. Since components are rendered on the server, web APIs like \u003Ccode>localStorage\u003C/code> or \u003Ccode>window\u003C/code> are not available.\u003C/p>\n\u003Ch3 id=\"fallback-initial-state\">Fallback Initial State\u003C/h3>\n\u003Cp>To overcome this limitation, you can add a fallback initial state that will be used during build time and then updated to the correct state after hydration. For example:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"jsx\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> [\u003C/span>\u003Cspan style=\"color:#79B8FF\">theme\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">setTheme\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#B392F0\"> useState\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(localStorage.\u003C/span>\u003Cspan style=\"color:#B392F0\">getItem\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#9ECBFF\">\"theme\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">) \u003C/span>\u003Cspan style=\"color:#F97583\">??\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"light\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>In the above code, we attempt to get the theme from \u003Ccode>localStorage\u003C/code>, and if it’s not available, we use \u003Ccode>\"light\"\u003C/code> as the initial state. Using a fallback initial state is a common approach to solve this problem. However, it can lead to a “client/server state mismatch” issue, where the initial state differs from the state after hydration.\u003C/p>\n\u003Ch3 id=\"addressing-the-clientserver-mismatch\">Addressing the Client/Server Mismatch\u003C/h3>\n\u003Cp>One way to address the client/server mismatch is by adding a \u003Ccode>mounted\u003C/code> state. This state ensures that your component’s rendering waits until it is mounted to the DOM, making all the web APIs available and ensuring that the initial state matches the state after hydration. You can achieve this using the \u003Ccode>useState\u003C/code> and \u003Ccode>useEffect\u003C/code> hooks to create a mounted state. Here’s an example:\u003C/p>\n\u003Cpre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"jsx\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">const\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> [\u003C/span>\u003Cspan style=\"color:#79B8FF\">isMounted\u003C/span>\u003Cspan style=\"color:#E1E4E8\">, \u003C/span>\u003Cspan style=\"color:#79B8FF\">setIsMounted\u003C/span>\u003Cspan style=\"color:#E1E4E8\">] \u003C/span>\u003Cspan style=\"color:#F97583\">=\u003C/span>\u003Cspan style=\"color:#B392F0\"> useState\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">false\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">useEffect\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(() \u003C/span>\u003Cspan style=\"color:#F97583\">=>\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#B392F0\">  setIsMounted\u003C/span>\u003Cspan style=\"color:#E1E4E8\">(\u003C/span>\u003Cspan style=\"color:#79B8FF\">true\u003C/span>\u003Cspan style=\"color:#E1E4E8\">);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}, []);\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">if\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> (\u003C/span>\u003Cspan style=\"color:#F97583\">!\u003C/span>\u003Cspan style=\"color:#E1E4E8\">isMounted) {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">  return\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> &#x3C;\u003C/span>\u003Cspan style=\"color:#79B8FF\">FallbackUI\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> />; \u003C/span>\u003Cspan style=\"color:#6A737D\">// or null;\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E1E4E8\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F97583\">return\u003C/span>\u003Cspan style=\"color:#E1E4E8\"> &#x3C;\u003C/span>\u003Cspan style=\"color:#85E89D\">button\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>{theme \u003C/span>\u003Cspan style=\"color:#F97583\">===\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"light\"\u003C/span>\u003Cspan style=\"color:#F97583\"> ?\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"🌙\"\u003C/span>\u003Cspan style=\"color:#F97583\"> :\u003C/span>\u003Cspan style=\"color:#9ECBFF\"> \"🌞\"\u003C/span>\u003Cspan style=\"color:#E1E4E8\">}&#x3C;/\u003C/span>\u003Cspan style=\"color:#85E89D\">button\u003C/span>\u003Cspan style=\"color:#E1E4E8\">>;\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>By checking the \u003Ccode>isMounted\u003C/code> state, we can render a fallback UI or \u003Ccode>null\u003C/code> until the component is mounted. Once it’s mounted, the actual UI will be rendered.\u003C/p>",{"headings":244,"imagePaths":263,"frontmatter":264},[245,248,251,254,257,260],{"depth":37,"slug":246,"text":247},"getting-started","Getting Started",{"depth":37,"slug":249,"text":250},"hands-on-implementation","Hands-on Implementation",{"depth":37,"slug":252,"text":253},"creating-the-ui","Creating the UI",{"depth":37,"slug":255,"text":256},"rendering-components-on-the-server","Rendering Components on the Server",{"depth":41,"slug":258,"text":259},"fallback-initial-state","Fallback Initial State",{"depth":41,"slug":261,"text":262},"addressing-the-clientserver-mismatch","Addressing the Client/Server Mismatch",[],{"title":226,"description":229,"pubDate":265,"updatedDate":266,"hero":239,"heroAlt":228,"tags":267,"minutesRead":71},["Date","2023-08-16T00:00:00.000Z"],["Date","2023-10-16T00:00:00.000Z"],[233,20,234,235,21,22],"dark-mode-in-astro.md"]